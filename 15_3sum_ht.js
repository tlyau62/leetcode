/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var threeSum = function (nums) {
    nums = nums.sort();

    const tb = new Map();
    const results = new Map();

    for (let i = 0; i < nums.length; i++) {
        if (nums[i] >= 0) {
            tb.set(-nums[i], i);
        }
    }

    let sum;
    for (let i = 0; i < nums.length; i++) {
        if (nums[i] >= 0) {
            break;
        }

        for (let j = i + 1; j < nums.length; j++) {
            sum = nums[i] + nums[j];
            if (tb.has(sum) && tb.get(sum) !== i && tb.get(sum) !== j) {
                key = [nums[i], nums[j], -sum].sort().join(',');
                if (!results.has(key)) {
                    results.set(key, true);
                }
            }
        }
    }

    let mappedResults = [];
    for (const [key, val] of results) {
        mappedResults.push(key.split(',').map((key) => parseInt(key)));
    }

    return mappedResults;
};

function verify(input, target) {
    let sum;
    for (let i = 0; i < input.length; i++) {
        sum = input[i].reduce((s, c) => c + s);
        console.log(input[i].toString() + ' ' + (sum === 0));
    }
}

verify(threeSum([-1, 2, -2, 5, 6, 3, -3]));


// [-13,5,13,12,-2,-11,-1,12,-3,0,-3,-7,-7,-5,-3,-15,-2,14,14,13,6,-11,-11,5,-15,-14,5,-5,-2,0,3,-8,-10,-7,11,-5,-10,-5,-7,-6,2,5,3,2,7,7,3,-10,-2,2,-12,-11,-1,14,10,-9,-15,-8,-7,-9,7,3,-2,5,11,-13,-15,8,-3,-7,-12,7,5,-2,-6,-3,-10,4,2,-5,14,-3,-1,-10,-3,-14,-4,-3,-7,-4,3,8,14,9,-2,10,11,-10,-4,-15,-9,-1,-1,3,4,1,8,1]
// [[-1,-1,2],[-1,-10,11],[-1,-11,12],[-1,-12,13],[-1,-13,14],[-1,-2,3],[-1,-3,4],[-1,-4,5],[-1,-5,6],[-1,-6,7],[-1,-7,8],[-1,-8,9],[-1,-9,10],[-1,0,1],[-10,-2,12],[-10,-3,13],[-10,-4,14],[-10,0,10],[-10,1,9],[-10,2,8],[-10,3,7],[-10,4,6],[-10,5,5],[-11,-2,13],[-11,-3,14],[-11,0,11],[-11,1,10],[-11,2,9],[-11,3,8],[-11,4,7],[-11,5,6],[-12,-2,14],[-12,0,12],[-12,1,11],[-12,10,2],[-12,3,9],[-12,4,8],[-12,5,7],[-13,0,13],[-13,1,12],[-13,10,3],[-13,11,2],[-13,4,9],[-13,5,8],[-13,6,7],[-14,0,14],[-14,1,13],[-14,10,4],[-14,11,3],[-14,12,2],[-14,5,9],[-14,6,8],[-14,7,7],[-15,1,14],[-15,10,5],[-15,11,4],[-15,12,3],[-15,13,2],[-15,6,9],[-15,7,8],[-2,-2,4],[-2,-3,5],[-2,-4,6],[-2,-5,7],[-2,-6,8],[-2,-7,9],[-2,-8,10],[-2,-9,11],[-2,0,2],[-2,1,1],[-3,-3,6],[-3,-4,7],[-3,-5,8],[-3,-6,9],[-3,-7,10],[-3,-8,11],[-3,-9,12],[-3,0,3],[-3,1,2],[-4,-4,8],[-4,-5,9],[-4,-6,10],[-4,-7,11],[-4,-8,12],[-4,-9,13],[-4,0,4],[-4,1,3],[-4,2,2],[-5,-5,10],[-5,-6,11],[-5,-7,12],[-5,-8,13],[-5,-9,14],[-5,0,5],[-5,1,4],[-5,2,3],[-6,-6,12],[-6,-7,13],[-6,-8,14],[-6,0,6],[-6,1,5],[-6,2,4],[-6,3,3],[-7,-7,14],[-7,0,7],[-7,1,6],[-7,2,5],[-7,3,4],[-8,0,8],[-8,1,7],[-8,2,6],[-8,3,5],[-8,4,4],[-9,0,9],[-9,1,8],[-9,2,7],[-9,3,6],[-9,4,5]]
// [[-15,1,14],[-15,2,13],[-15,3,12],[-15,4,11],[-15,5,10],[-15,6,9],[-15,7,8],[-14,0,14],[-14,1,13],[-14,2,12],[-14,3,11],[-14,4,10],[-14,5,9],[-14,6,8],[-14,7,7],[-13,-1,14],[-13,0,13],[-13,1,12],[-13,2,11],[-13,3,10],[-13,4,9],[-13,5,8],[-13,6,7],[-12,-2,14],[-12,-1,13],[-12,0,12],[-12,1,11],[-12,2,10],[-12,3,9],[-12,4,8],[-12,5,7],[-11,-3,14],[-11,-2,13],[-11,-1,12],[-11,0,11],[-11,1,10],[-11,2,9],[-11,3,8],[-11,4,7],[-11,5,6],[-10,-4,14],[-10,-3,13],[-10,-2,12],[-10,-1,11],[-10,0,10],[-10,1,9],[-10,2,8],[-10,3,7],[-10,4,6],[-10,5,5],[-9,-5,14],[-9,-4,13],[-9,-3,12],[-9,-2,11],[-9,-1,10],[-9,0,9],[-9,1,8],[-9,2,7],[-9,3,6],[-9,4,5],[-8,-6,14],[-8,-5,13],[-8,-4,12],[-8,-3,11],[-8,-2,10],[-8,-1,9],[-8,0,8],[-8,1,7],[-8,2,6],[-8,3,5],[-8,4,4],[-7,-7,14],[-7,-6,13],[-7,-5,12],[-7,-4,11],[-7,-3,10],[-7,-2,9],[-7,-1,8],[-7,0,7],[-7,1,6],[-7,2,5],[-7,3,4],[-6,-6,12],[-6,-5,11],[-6,-4,10],[-6,-3,9],[-6,-2,8],[-6,-1,7],[-6,0,6],[-6,1,5],[-6,2,4],[-6,3,3],[-5,-5,10],[-5,-4,9],[-5,-3,8],[-5,-2,7],[-5,-1,6],[-5,0,5],[-5,1,4],[-5,2,3],[-4,-4,8],[-4,-3,7],[-4,-2,6],[-4,-1,5],[-4,0,4],[-4,1,3],[-4,2,2],[-3,-3,6],[-3,-2,5],[-3,-1,4],[-3,0,3],[-3,1,2],[-2,-2,4],[-2,-1,3],[-2,0,2],[-2,1,1],[-1,-1,2],[-1,0,1]]

// [[-1,-1,2],[-1,-10,11],[-1,-11,12],[-1,-12,13],[-1,-13,14],[-1,-2,3],[-1,-3,4],[-1,-4,5],[-1,-5,6],[-1,-6,7],[-1,-7,8],[-1,-8,9],[-1,-9,10],[-1,0,1],[-10,-2,12],[-10,-3,13],[-10,-4,14],[-10,0,10],[-10,1,9],[-10,2,8],[-10,3,7],[-10,4,6],[-10,5,5],[-11,-2,13],[-11,-3,14],[-11,0,11],[-11,1,10],[-11,2,9],[-11,3,8],[-11,4,7],[-11,5,6],[-12,-2,14],[-12,0,12],[-12,1,11],[-12,10,2],[-12,3,9],[-12,4,8],[-12,5,7],[-13,0,13],[-13,1,12],[-13,10,3],[-13,11,2],[-13,4,9],[-13,5,8],[-13,6,7],[-14,0,14],[-14,1,13],[-14,10,4],[-14,11,3],[-14,12,2],[-14,5,9],[-14,6,8],[-14,7,7],[-15,1,14],[-15,10,5],[-15,11,4],[-15,12,3],[-15,13,2],[-15,6,9],[-15,7,8],[-2,-2,4],[-2,-3,5],[-2,-4,6],[-2,-5,7],[-2,-6,8],[-2,-7,9],[-2,-8,10],[-2,-9,11],[-2,0,2],[-2,1,1],[-3,-3,6],[-3,-4,7],[-3,-5,8],[-3,-6,9],[-3,-7,10],[-3,-8,11],[-3,-9,12],[-3,0,3],[-3,1,2],[-4,-4,8],[-4,-5,9],[-4,-6,10],[-4,-7,11],[-4,-8,12],[-4,-9,13],[-4,0,4],[-4,1,3],[-4,2,2],[-5,-5,10],[-5,-6,11],[-5,-7,12],[-5,-8,13],[-5,-9,14],[-5,0,5],[-5,1,4],[-5,2,3],[-6,-6,12],[-6,-7,13],[-6,-8,14],[-6,0,6],[-6,1,5],[-6,2,4],[-6,3,3],[-7,-7,14],[-7,0,7],[-7,1,6],[-7,2,5],[-7,3,4],[-8,0,8],[-8,1,7],[-8,2,6],[-8,3,5],[-8,4,4],[-9,0,9],[-9,1,8],[-9,2,7],[-9,3,6],[-9,4,5]]
// [[-15,1,14],[-15,2,13],[-15,3,12],[-15,4,11],[-15,5,10],[-15,6,9],[-15,7,8],[-14,0,14],[-14,1,13],[-14,2,12],[-14,3,11],[-14,4,10],[-14,5,9],[-14,6,8],[-14,7,7],[-13,-1,14],[-13,0,13],[-13,1,12],[-13,2,11],[-13,3,10],[-13,4,9],[-13,5,8],[-13,6,7],[-12,-2,14],[-12,-1,13],[-12,0,12],[-12,1,11],[-12,2,10],[-12,3,9],[-12,4,8],[-12,5,7],[-11,-3,14],[-11,-2,13],[-11,-1,12],[-11,0,11],[-11,1,10],[-11,2,9],[-11,3,8],[-11,4,7],[-11,5,6],[-10,-4,14],[-10,-3,13],[-10,-2,12],[-10,-1,11],[-10,0,10],[-10,1,9],[-10,2,8],[-10,3,7],[-10,4,6],[-10,5,5],[-9,-5,14],[-9,-4,13],[-9,-3,12],[-9,-2,11],[-9,-1,10],[-9,0,9],[-9,1,8],[-9,2,7],[-9,3,6],[-9,4,5],[-8,-6,14],[-8,-5,13],[-8,-4,12],[-8,-3,11],[-8,-2,10],[-8,-1,9],[-8,0,8],[-8,1,7],[-8,2,6],[-8,3,5],[-8,4,4],[-7,-7,14],[-7,-6,13],[-7,-5,12],[-7,-4,11],[-7,-3,10],[-7,-2,9],[-7,-1,8],[-7,0,7],[-7,1,6],[-7,2,5],[-7,3,4],[-6,-6,12],[-6,-5,11],[-6,-4,10],[-6,-3,9],[-6,-2,8],[-6,-1,7],[-6,0,6],[-6,1,5],[-6,2,4],[-6,3,3],[-5,-5,10],[-5,-4,9],[-5,-3,8],[-5,-2,7],[-5,-1,6],[-5,0,5],[-5,1,4],[-5,2,3],[-4,-4,8],[-4,-3,7],[-4,-2,6],[-4,-1,5],[-4,0,4],[-4,1,3],[-4,2,2],[-3,-3,6],[-3,-2,5],[-3,-1,4],[-3,0,3],[-3,1,2],[-2,-2,4],[-2,-1,3],[-2,0,2],[-2,1,1],[-1,-1,2],[-1,0,1]]