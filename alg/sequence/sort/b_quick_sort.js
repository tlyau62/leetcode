function quick_sort(nums, left, right) {

    if (left < right) {
        const p = parition(nums, left, right);
        quick_sort(nums, left, p - 1);
        quick_sort(nums, p + 1, right);
    }

    function parition(nums, left, right) {
        const p_val = nums[left]; // pivot value (can be replaces with random number)
        let p_idx = left; // current pivot position

        // put pivot to right side of nums
        // to ensure it is at the rightmost position after swapping
        swap(nums, left, right);

        // pivot starting position: left (currently no num is less than p_val)
        for (let i = p_idx; i < right; i++) {
            if (nums[i] < p_val) {
                // swap out right group num
                swap(nums, i, p_idx);

                // consume one space
                p_idx++;
            } else {
                // leaving space for num < p_val
                // space size = i - p_idx
            }
        }

        // move pivot back to the correct position
        swap(nums, right, p_idx);

        return p_idx;
    }

    // fail at [ 1, 10, 50, 9 ] => [ 1, 9, 50, 10 ]
    function parition2(nums, left, right) {
        const p = nums[left];
        // init pivot starting position at index: left
        for (let i = left; i <= right; i++) {
            if (nums[i] < p) {
                // move current num to left group
                swap(nums, i, left);

                // inc pivot position
                left++;
            }
        }

        console.log(nums);

        return left;
    }

    function swap(nums, i, j) {
        const temp = nums[i];
        nums[i] = nums[j];
        nums[j] = temp;
    }

}

let nums, nums2;

// nums = [1, 10, 50, 40, 9];
// quick_sort(nums, 0, nums.length - 1);
// console.log(nums);

// nums = [10, 5, 11, 3, 2];
// quick_sort(nums, 0, nums.length - 1);
// console.log(nums);

// nums = [1, 3, 5, 7, 9, 11];
// quick_sort(nums, 0, nums.length - 1);
// console.log(nums);

// nums = [11, 9, 7, 5, 3, 1];
// quick_sort(nums, 0, nums.length - 1);
// console.log(nums);

nums = [949, 955, 510, 537, 920, 366, 319, 570, 357, 292, 178, 113, 372, 216, 922, 208, 521, 764, 853, 762, 226, 86, 298, 269, 752, 452, 343, 244, 928, 634, 528, 280, 708, 251, 946, 903, 603, 551, 349, 519, 891, 241, 156, 478, 969, 543, 499, 739, 838, 527, 986, 95, 42, 630, 696, 204, 197, 738, 836, 760, 353, 203, 687, 910, 450, 834, 832, 471, 705, 97, 182, 854, 980, 884, 464, 939, 544, 859, 303, 506, 416, 990, 776, 728, 262, 68, 847, 784, 943, 845, 81, 577, 267, 161, 195, 947, 192, 89, 520, 932, 91, 833, 173, 271, 272, 767, 517, 974, 19, 467, 719, 670, 789, 895, 255, 496, 265, 869, 224, 148, 20, 386, 819, 286, 235, 524, 501, 632, 785, 184, 237, 175, 220, 263, 230, 502, 937, 302, 176, 925, 120, 382, 704, 964, 297, 805, 585, 662, 495, 890, 633, 712, 702, 911, 751, 921, 437, 379, 893, 92, 569, 180, 942, 880, 21, 201, 747, 126, 599, 417, 744, 844, 923, 996, 645, 276, 671, 825, 765, 79, 432, 790, 142, 354, 961, 855, 152, 808, 375, 14, 294, 206, 758, 346, 167, 748, 886, 511, 34, 475, 736, 876, 1000, 742, 364, 950, 48, 424, 975, 129, 212, 533, 650, 274, 500, 451, 646, 229, 683, 367, 122, 333, 823, 225, 828, 761, 690, 660, 342, 211, 960, 561, 100, 584, 281, 18, 425, 359, 431, 449, 465, 711, 412, 841, 295, 436, 80, 401, 840, 311, 635, 658, 652, 933, 787, 593, 351, 462, 387, 846, 771, 675, 103, 484, 753, 872, 756, 830, 23, 453, 309, 999, 458, 199, 233, 334, 109, 901, 497, 595, 477, 365, 16, 639, 402, 221, 554, 194, 718, 240, 940, 247, 10, 301, 666, 930, 308, 773, 78, 72, 404, 558, 41, 575, 410, 614, 967, 489, 345, 435, 146, 888, 169, 621, 209, 154, 134, 518, 273, 618, 743, 71, 800, 979, 892, 948, 722, 623, 567, 586, 581, 287, 483, 952, 118, 657, 924, 313, 331, 76, 733, 24, 778, 694, 931, 49, 110, 57, 866, 727, 523, 191, 362, 480, 358, 865, 677, 279, 38, 327, 549, 27, 864, 131, 622, 680, 796, 899, 883, 799, 243, 44, 356, 701, 326, 393, 806, 981, 355, 300, 786, 560, 454, 706, 112, 317, 590, 526, 995, 604, 170, 636, 809, 423, 409, 985, 782, 127, 422, 285, 490, 640, 438, 512, 94, 338, 812, 270, 647, 926, 887, 754, 966, 875, 22, 65, 323, 588, 330, 461, 676, 360, 826, 124, 59, 132, 698, 863, 597, 77, 415, 426, 904, 707, 0, 324, 84, 938, 472, 894, 589, 673, 973, 780, 835, 572, 612, 395, 870, 801, 348, 290, 121, 493, 827, 856, 258, 136, 843, 617, 6, 264, 679, 293, 842, 219, 824, 222, 953, 795, 811, 684, 583, 174, 133, 60, 772, 792, 30, 414, 470, 322, 341, 440, 531, 47, 403, 275, 137, 688, 43, 98, 228, 815, 965, 236, 601, 320, 709, 592, 335, 668, 983, 254, 529, 667, 31, 992, 513, 158, 669, 548, 218, 794, 213, 83, 713, 485, 399, 867, 318, 962, 283, 616, 978, 629, 371, 488, 596, 115, 692, 125, 54, 720, 849, 877, 420, 421, 954, 316, 492, 578, 945, 305, 553, 370, 381, 557, 745, 198, 611, 944, 13, 822, 117, 691, 430, 172, 392, 150, 332, 463, 579, 715, 951, 190, 542, 594, 398, 723, 716, 261, 93, 166, 682, 678, 123, 268, 479, 289, 413, 187, 994, 5, 130, 648, 474, 214, 96, 664, 288, 783, 457, 724, 988, 310, 62, 631, 766, 397, 205, 329, 119, 223, 730, 447, 160, 699, 377, 306, 935, 516, 147, 987, 162, 171, 957, 816, 970, 418, 232, 714, 941, 200, 609, 989, 396, 991, 405, 971, 114, 982, 207, 665, 508, 534, 627, 249, 468, 977, 737, 17, 797, 663, 256, 61, 340, 729, 740, 576, 626, 85, 929, 400, 312, 571, 717, 153, 769, 164, 26, 530, 1, 368, 927, 239, 735, 777, 710, 486, 88, 82, 791, 250, 916, 90, 53, 50, 900, 140, 408, 909, 284, 99, 159, 494, 703, 807, 602, 128, 538, 643, 997, 231, 881, 902, 624, 2, 700, 177, 441, 347, 582, 314, 725, 732, 781, 67, 559, 814, 659, 505, 503, 111, 655, 831, 555, 443, 540, 628, 681, 600, 378, 238, 481, 253, 108, 552, 936, 389, 522, 234, 35, 818, 388, 768, 963, 763, 689, 141, 476, 448, 394, 637, 563, 296, 837, 608, 591, 196, 661, 28, 580, 66, 934, 135, 105, 193, 350, 385, 959, 460, 882, 556, 905, 7, 181, 817, 391, 642, 51, 145, 525, 802, 37, 504, 606, 896, 860, 52, 36, 546, 755, 427, 456, 734, 373, 106, 613, 912, 257, 788, 116, 352, 282, 536, 291, 656, 39, 46, 266, 32, 278, 227, 607, 25, 210, 428, 87, 498, 514, 913, 215, 968, 615, 598, 11, 889, 746, 143, 179, 798, 183, 64, 857, 695, 217, 445, 487, 774, 721, 697, 473, 138, 74, 770, 515, 852, 907, 107, 839, 619, 325, 550, 731, 574, 829, 565, 407, 104, 69, 984, 70, 3, 246, 917, 186, 58, 307, 165, 8, 383, 914, 686, 15, 344, 956, 851, 972, 620, 861, 641, 993, 885, 102, 693, 879, 507, 202, 337, 299, 976, 315, 155, 363, 144, 245, 871, 328, 434, 868, 446, 749, 75, 759, 820, 429, 101, 862, 56, 672, 466, 605, 406, 610, 482, 566, 726, 998, 259, 9, 45, 874, 915, 40, 459, 908, 906, 897, 532, 433, 654, 573, 369, 644, 685, 168, 873, 73, 564, 248, 958, 361, 157, 384, 545, 63, 260, 163, 653, 638, 4, 674, 33, 547, 541, 339, 444, 439, 55, 374, 321, 535, 562, 419, 757, 750, 411, 149, 804, 12, 491, 848, 651, 442, 185, 625, 649, 380, 390, 455, 336, 813, 821, 810, 775, 29, 252, 539, 509, 878, 918, 850, 151, 587, 858, 189, 919, 898, 242, 376, 469, 277, 793, 741, 803, 779, 568, 188, 139];
quick_sort(nums, 0, nums.length - 1);
nums2 = [949, 955, 510, 537, 920, 366, 319, 570, 357, 292, 178, 113, 372, 216, 922, 208, 521, 764, 853, 762, 226, 86, 298, 269, 752, 452, 343, 244, 928, 634, 528, 280, 708, 251, 946, 903, 603, 551, 349, 519, 891, 241, 156, 478, 969, 543, 499, 739, 838, 527, 986, 95, 42, 630, 696, 204, 197, 738, 836, 760, 353, 203, 687, 910, 450, 834, 832, 471, 705, 97, 182, 854, 980, 884, 464, 939, 544, 859, 303, 506, 416, 990, 776, 728, 262, 68, 847, 784, 943, 845, 81, 577, 267, 161, 195, 947, 192, 89, 520, 932, 91, 833, 173, 271, 272, 767, 517, 974, 19, 467, 719, 670, 789, 895, 255, 496, 265, 869, 224, 148, 20, 386, 819, 286, 235, 524, 501, 632, 785, 184, 237, 175, 220, 263, 230, 502, 937, 302, 176, 925, 120, 382, 704, 964, 297, 805, 585, 662, 495, 890, 633, 712, 702, 911, 751, 921, 437, 379, 893, 92, 569, 180, 942, 880, 21, 201, 747, 126, 599, 417, 744, 844, 923, 996, 645, 276, 671, 825, 765, 79, 432, 790, 142, 354, 961, 855, 152, 808, 375, 14, 294, 206, 758, 346, 167, 748, 886, 511, 34, 475, 736, 876, 1000, 742, 364, 950, 48, 424, 975, 129, 212, 533, 650, 274, 500, 451, 646, 229, 683, 367, 122, 333, 823, 225, 828, 761, 690, 660, 342, 211, 960, 561, 100, 584, 281, 18, 425, 359, 431, 449, 465, 711, 412, 841, 295, 436, 80, 401, 840, 311, 635, 658, 652, 933, 787, 593, 351, 462, 387, 846, 771, 675, 103, 484, 753, 872, 756, 830, 23, 453, 309, 999, 458, 199, 233, 334, 109, 901, 497, 595, 477, 365, 16, 639, 402, 221, 554, 194, 718, 240, 940, 247, 10, 301, 666, 930, 308, 773, 78, 72, 404, 558, 41, 575, 410, 614, 967, 489, 345, 435, 146, 888, 169, 621, 209, 154, 134, 518, 273, 618, 743, 71, 800, 979, 892, 948, 722, 623, 567, 586, 581, 287, 483, 952, 118, 657, 924, 313, 331, 76, 733, 24, 778, 694, 931, 49, 110, 57, 866, 727, 523, 191, 362, 480, 358, 865, 677, 279, 38, 327, 549, 27, 864, 131, 622, 680, 796, 899, 883, 799, 243, 44, 356, 701, 326, 393, 806, 981, 355, 300, 786, 560, 454, 706, 112, 317, 590, 526, 995, 604, 170, 636, 809, 423, 409, 985, 782, 127, 422, 285, 490, 640, 438, 512, 94, 338, 812, 270, 647, 926, 887, 754, 966, 875, 22, 65, 323, 588, 330, 461, 676, 360, 826, 124, 59, 132, 698, 863, 597, 77, 415, 426, 904, 707, 0, 324, 84, 938, 472, 894, 589, 673, 973, 780, 835, 572, 612, 395, 870, 801, 348, 290, 121, 493, 827, 856, 258, 136, 843, 617, 6, 264, 679, 293, 842, 219, 824, 222, 953, 795, 811, 684, 583, 174, 133, 60, 772, 792, 30, 414, 470, 322, 341, 440, 531, 47, 403, 275, 137, 688, 43, 98, 228, 815, 965, 236, 601, 320, 709, 592, 335, 668, 983, 254, 529, 667, 31, 992, 513, 158, 669, 548, 218, 794, 213, 83, 713, 485, 399, 867, 318, 962, 283, 616, 978, 629, 371, 488, 596, 115, 692, 125, 54, 720, 849, 877, 420, 421, 954, 316, 492, 578, 945, 305, 553, 370, 381, 557, 745, 198, 611, 944, 13, 822, 117, 691, 430, 172, 392, 150, 332, 463, 579, 715, 951, 190, 542, 594, 398, 723, 716, 261, 93, 166, 682, 678, 123, 268, 479, 289, 413, 187, 994, 5, 130, 648, 474, 214, 96, 664, 288, 783, 457, 724, 988, 310, 62, 631, 766, 397, 205, 329, 119, 223, 730, 447, 160, 699, 377, 306, 935, 516, 147, 987, 162, 171, 957, 816, 970, 418, 232, 714, 941, 200, 609, 989, 396, 991, 405, 971, 114, 982, 207, 665, 508, 534, 627, 249, 468, 977, 737, 17, 797, 663, 256, 61, 340, 729, 740, 576, 626, 85, 929, 400, 312, 571, 717, 153, 769, 164, 26, 530, 1, 368, 927, 239, 735, 777, 710, 486, 88, 82, 791, 250, 916, 90, 53, 50, 900, 140, 408, 909, 284, 99, 159, 494, 703, 807, 602, 128, 538, 643, 997, 231, 881, 902, 624, 2, 700, 177, 441, 347, 582, 314, 725, 732, 781, 67, 559, 814, 659, 505, 503, 111, 655, 831, 555, 443, 540, 628, 681, 600, 378, 238, 481, 253, 108, 552, 936, 389, 522, 234, 35, 818, 388, 768, 963, 763, 689, 141, 476, 448, 394, 637, 563, 296, 837, 608, 591, 196, 661, 28, 580, 66, 934, 135, 105, 193, 350, 385, 959, 460, 882, 556, 905, 7, 181, 817, 391, 642, 51, 145, 525, 802, 37, 504, 606, 896, 860, 52, 36, 546, 755, 427, 456, 734, 373, 106, 613, 912, 257, 788, 116, 352, 282, 536, 291, 656, 39, 46, 266, 32, 278, 227, 607, 25, 210, 428, 87, 498, 514, 913, 215, 968, 615, 598, 11, 889, 746, 143, 179, 798, 183, 64, 857, 695, 217, 445, 487, 774, 721, 697, 473, 138, 74, 770, 515, 852, 907, 107, 839, 619, 325, 550, 731, 574, 829, 565, 407, 104, 69, 984, 70, 3, 246, 917, 186, 58, 307, 165, 8, 383, 914, 686, 15, 344, 956, 851, 972, 620, 861, 641, 993, 885, 102, 693, 879, 507, 202, 337, 299, 976, 315, 155, 363, 144, 245, 871, 328, 434, 868, 446, 749, 75, 759, 820, 429, 101, 862, 56, 672, 466, 605, 406, 610, 482, 566, 726, 998, 259, 9, 45, 874, 915, 40, 459, 908, 906, 897, 532, 433, 654, 573, 369, 644, 685, 168, 873, 73, 564, 248, 958, 361, 157, 384, 545, 63, 260, 163, 653, 638, 4, 674, 33, 547, 541, 339, 444, 439, 55, 374, 321, 535, 562, 419, 757, 750, 411, 149, 804, 12, 491, 848, 651, 442, 185, 625, 649, 380, 390, 455, 336, 813, 821, 810, 775, 29, 252, 539, 509, 878, 918, 850, 151, 587, 858, 189, 919, 898, 242, 376, 469, 277, 793, 741, 803, 779, 568, 188, 139];
nums2 = nums2.sort((a, b) => a - b);
console.log(nums.join(',') === nums2.join(','));

/** test case
 * 10 5 11 3 2
 * 5 10 11 3 2
 * 5 10 11 3 2
 * 5 3 11 10 2
 * 5 3 2 10 11
 */

